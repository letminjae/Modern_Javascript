# 변수

변수란 무엇일까? <br />
아무리 복잡한 앱이라도 데이터를 입력받아 처리하고 그 결과값을 출력하는 것이 전부다. <br />
10 + 20의 코드를 컴퓨터가 계산하려면? <b>기호, 숫자의 의미를 알고 있어야하고, 연산을 할 수 있어야한다.</b> <br />
그리고 10과 20과 + 를 기억한다. 30이라는 결과값도 기억한다.
컴퓨터를 좀 더 세부적으로 말해서 자바스크립트 엔진이라고 하자.
JS 엔진이 코드를 계산하려면 먼저 10, 20, +의 기호 (리터럴, 연산자)의 의미를알아야 하며, 10 + 20이라는 식의 의미도 해석(파싱) 할 수 있다. <br />
- 컴퓨터는 cpu를 통해 연산하고, 메모리를 사용해 데이터를 기억한다.
- 메모리는 데이터를 저장할 수 있는 메모리 셀의 집합체이다.
- 메모리 셀 하나의 크기 = 1바이트 (8비트) 이며, 1바이트 단위로 데이터를저장하거나 읽어들인다.
- 각 셀은 메모리 주소를 하나씩 갖는다. 이 메모리 주소는 메모리 공간의 위치를나타내며, 0부터 시작해 메모리 크기만큼 정수로 표현된다.
- 예를들어 4기가 메모리는 0부터 4,294,967,295 까지의 메모리 주소를 갖는다.
- 컴퓨터는 모든 데이터를 2진수로 처리한다. 따라서 메모리에 저장되는 데이터는데이터의 종류(숫자, 텍스트, 이미지, 동영상)와 상관없이
모두 2진수로 처리된다. <br /> <br />

위 예제를 다시 돌아가보자. <br />
숫자값 10과 20은 메모리 상의 임의의 메모리 주소에 저장된다.
CPU는 이 값을 읽어서 연산을 수행한다.
연산의 결과인 30도 메모리 상의 임의의 메모리 주소에 저장된다. <br />
메모리에 저장된 숫자값을 10진수로 표기한 4-2의 그림을 확인해보자.
성공적으로 연산도 끝났고 30도 메모리에 저장되었다. 하지만 문제가 있다.

<br />

<b>cpu가 연산해서 만들어낸 숫자값 30을 재사용할 수 없다는 것이다.</b> <br />
<br /> 
10 + 20을 연산했다는 것은 30이라는 값이 알고싶다거나 필요한거고, 연산 결과를 단한번만 사용한다면 문제가 없겠지만,
여러번 써야한다면 메모리 주소에 직접 접근하는 것 외에는 방법이 없다.
그런데 메모리 주소에 직접 접근한다? 진짜 치명적인 오류를 발생시키는 원인이 될수도 있다.
실수로 운영체제가 사용하는 값을 변경하게 된다면 시스템이 멈출 수도 있기 때문이다. <br />
따라서 자바스크립트는 직접적인 메모리 제어를 허용하지 않는다.
만약 직접적인 메모리 제어를 허용하더라도 문제가 있다.
값이 저장될 메모리 주소는 코드가 실행 될 때 마다 메모리 상황에 따라 임의로 저장된다.
따라서 동일한 코드를 실행하더라도 값이 저장되는 메모리 주소는 바뀐다. 결론적으로 메모리 주소를 통해서 값에 직접 접근하려는 시도는 틀렸다! <br />
<b>프로그래밍 언어는 기억하고 싶은 값을 메모리에 저장하고, 저장된 값을 읽어 들여재사용하기위해 변수라는 메커니즘을 제공한다.</b> <br />
변수는 하나의 값을 저장하기 위해 확보한 메모리 공간 자체 또는 메모리 공간을식별하기 위해 붙인 이름을 말한다.
결론적으로 값의 위치를 가리키는 상징적인 이름이다.
 - 변수에 여러개의 값을 저장하는 방법?? : 배열이나 객체를 사용하면 된다.

```Javascript
const user = { id: 1, name: "Lee"};
const users = [
    {id : 1, name: 'Lee'},
    {id : 2, name: 'Kim'}
];
let result = 10 + 20 ;
console.log(result);
```

여기서 result는 변수 명, 10+20은 변수 값이라고 한다.
변수에 값을 저장하는 것을 할당 이라고 하고 변수에 저장된 값을 읽어 들이는 것을 <b>참조</b>라고 한다. <br />
그럼 여기서 let은 무엇인가? 우린 여기서 변수 선언이라는 것을 알아야한다.
변수 선언이란 변수를 생성하는 것을 말한다.
좀 더 자세히 말하면,
1. 값을 저장하기 위한 메모리 공간을 확보하고
2. 변수 이름과 확보된 메모리 공간의 주소를 연결해서 값을 저장할 수 있게 준비하는것이다.

```Javascript
var score; //undefined
```

변수를 선언한 이후 아직 변수에 값을 할당하지 않았다. 따라서 변수 선언에 의해확보된 메모리 공간은 비어 있다고 생각할 수 있지만!
확보된 메모리 공간에 자바스크립트는 undefined라는 값이 암묵적으로 할당되어초기화된다.
이를 보았을 때, 자바스크립트 엔진은 변수 선언을 2단계에 거쳐 수행한다.
1. 선언단계 : 변수 이름을 등록해서 자바스크립트 엔진에 변수의 존재를 알린다.
2. 초기화 단계 : 값을 저장하기 위한 메모리 공간을 할당하고 암묵적으로 undefined를 할당해 초기화 한다.

선언을 하지않는다면 변수뿐만아니라 모든 식별자(함수, 클래스, 변수 같은 값을비교해서 식별할 수 있는 고유한 이름 등)를 쓸 수 없다.
참조에러 (ReferenceError)가 발생한다.
식별자를 통해 값을 참조하려 했지만, 자바스크립트 엔진이 등록된 식별자를 찾을 수없을 때 발생하는 에러이다.
</p>
<br />

# 변수의 실행 시점과 변수 호이스팅
예제를 보자.
```Javascript
console.log(score);
var score;
```
변수 선언문보다 변수를 참조하는 코드가 앞에 있다. 
자바스크립트는 인터프리터 언어이기 때문에 한 줄씩 순차적으로 코드를 실행하므로 console이 먼저 실행되고 순차적으로 var를 읽는다. <br />
참조에러가 발생할 것 같지만 아니다. undefined가 콘솔에 뜬다. 이 이유는?? <br />
<b>변수선언이 소스코드가 한 줄씩 순차적으로 실행되는시점 (우리는 런타임이라고부르자) 이 아니라,
    그 이전 단계에서 먼저 실행되기 때문이다.
</b> <br />
자바스크립트 엔진은 소스코드를 한줄씩 순차적으로 실행하기에 앞서서 먼저 소스코드의평가 과정을 거치며 소스코드를 실행하기위한 준비를한다. <br />
자바스크립트 엔진은 변수 선언을 포함한 모든 선언문(변수 & 함수 선언문 등)을 소스코드에서 찾아내 먼저 실행을 한다.
그리고 소스코드의 평가 과정이 끝나면 비로소 변수 선언을 포함한 모든 선언문을제외하고 소스코드를 한줄 씩 순차적으로 실행한다. <br />
즉, 자바스크립트 엔진은 변수선언이 소스코드의 어디에 있든 상관없이 다른 코드보다 먼저 실행된다.
이처럼 변수 선언문이 코드의 선두로 끌어올려진 것처럼 동작하는 자바스크립트 고유의 특징을 <b>변수 호이스팅</b>이라 한다.

<br />

# 값의 할당
변수에 값을 할당 할때는 할당 연산자 = 을 쓴다. 할당 연산자는 우변의 값을 좌변의변수에 할당한다.

    var score; 변수 선언
    score = 80; 값의 할당
    이걸 하나의 문으로 단축 표현하면,
    var score = 80; 이다.

하지만 주의할점, 변수 선언과 값의 할당 실행 시점이 다르다. <br />
변수 선언은 소스코드가 순차적으로 실행되는 시점인 런타임 이전에 먼저 실행되지만, 값의 할당은 소스코드가 순차적으로 실행되는 런타임에 실행된다.

    값의 재할당 : 재할당은 현재 변수에 저장된 값을 버리고 새로운 값을 저장하는 것이다.
    하지만 값을 재할당할 수 없어서 변수를 변경할 수 없다면 그건 변수가 아니라 상수다.
    그래서 es6에서는 const를 사용한다.
